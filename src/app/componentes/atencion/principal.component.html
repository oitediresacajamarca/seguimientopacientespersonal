<p-tabView class="container-fluid">
  <br />
  <p-tabPanel header="Registro de Atenciones">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="basic-addon1"
          >Numero de Documento</span
        >
      </div>
      <input
        type="text"
        pInputText
        [(ngModel)]="cod_buscar"
        class="form-control"
        placeholder="Ingrese el numero de solicitud a registrar"
        aria-label="Username"
        aria-describedby="basic-addon1"
        name="cod_buscar"
      />
      <button
        pButton
        type="button"
        icon="pi pi-search"
        iconPos="left"
        (click)="BuscarDni()"
        label="BUSQUEDA POR NOMBRES "
        class="ui-button-success"
      ></button>
      <button
        pButton
        type="button"
        label="BUSCAR"
        (click)="buscarParaInciciarAtencion()"
      ></button>
    </div>

    <p-fieldset legend="Datos Generales del Paciente">
      <div class="ui-g">
        <div class="ui-g-10"></div>
        <div class="ui-g-2">
          <p-button
            #editabutton
            type="button"
            icon="pi pi-pencil"
            label="Editar"
            (onClick)="editarDatos()"
          ></p-button>
          <p-button
            #guardarbutton
            type="button"
            icon="pi pi-save"
            label="Guardar"
            (click)="guardarDatos()"
            styleClass="ui-button-success"
          ></p-button>
        </div>

        <form #inicioaten="ngForm">
          <div class="form-group ui-g-3">
            <label for="docidentidad">Numero de Documento de Identidad</label>
            <input
              matInput
              type="email"
              class="form-control"
              id="docidentidad"
              aria-describedby="emailHelp"
              placeholder="Numero de Documento de Identidad"
              [(ngModel)]="form.NRO_DOCUMENTO"
              name="NRO_DOCUMENTO"
              disabled="true"
            />
          </div>

          <div class="form-group ui-g-3">
            <label for="nombres">Nombres</label>
            <input
              type="text"
              class="form-control"
              id="nombres"
              pInputText
              #nombres
              aria-describedby="emailHelp"
              [(ngModel)]="form.NOMBRES"
              name="NOMBRES"
              [disabled]="nombresd"
            />
          </div>
          <div class="form-group ui-g-3">
            <label for="ape_pat">Apellido Paterno</label>
            <input
              type="text"
              class="form-control"
              pInputText
              #apellido_pat
              id="ape_pat"
              aria-describedby="emailHelp"
              [(ngModel)]="form.APELLIDO_PAT"
              disabled="true"
              name="APELLIDO_PAT"
              [disabled]="apellido_patd"
            />
          </div>

          <div class="form-group ui-g-3">
            <label for="ape_mat">Apellido Materno</label>
            <input
              type="email"
              class="form-control"
              pInputText
              id="ape_mat"
              #apellido_mat
              aria-describedby="emailHelp"
              [(ngModel)]="form.APELLIDO_MAT"
              [disabled]="apellido_matd"
              name="APELLIDO_MAT"
            />
          </div>

          <div class="form-group ui-g-3">
            <label for="domicilio">Domicilio Actual</label>
            <input
              type="email"
              class="form-control"
              id="domicilio"
              aria-describedby="emailHelp"
              [(ngModel)]="form.DIRECCION"
              disabled="true"
              name="DIRECCION"
            />
          </div>
          <div class="form-group ui-g-3">
            <label for="genero">Genero</label>
            <input
              type="email"
              class="form-control"
              id="genero"
              aria-describedby="emailHelp"
              placeholder="Genero"
              [(ngModel)]="form.GENERO"
              disabled="true"
              name="GENERO"
            />
          </div>

          <div class="form-group ui-g-3">
            <label for="provincia">Provincia</label>
            <input
              type="email"
              class="form-control"
              id="provincia"
              aria-describedby="emailHelp"
              placeholder="Provincia"
              [(ngModel)]="form.NOMBRE_PROVINCIA"
              disabled="true"
              name="NOMBRE_PROVINCIA"
            />
          </div>
          <div class="form-group ui-g-3">
            <label for="distrito">Distrito</label>
            <input
              type="email"
              class="form-control"
              id="distrito"
              aria-describedby="emailHelp"
              placeholder="Distrito"
              [(ngModel)]="form.NOMBRE_DISTRITO"
              disabled="true"
              name="NOMBRE_DISTRITO"
            />
          </div>
          <div class="form-group ui-g-3">
            <label for="fecha_nacimiento">Fecha Nacimiento</label>
            <input
              type="email"
              class="form-control"
              id="fecha_nacimiento"
              aria-describedby="emailHelp"
              placeholder="Fecha Nacimiento"
              [ngModel]="form.FECHA_NAC | date :'dd/MM/yyyy'"
              (ngModelChange)="form.FECHA_NAC=$event"
              disabled="true"
              name="FECHA_NAC"
            />
          </div>
        </form>
      </div>
    </p-fieldset>
    <br />
    SOLICITUD DE ATENCION
    <form [formGroup]="formulariosolicitud">
      <mat-card>
        <div class="ui-g">
          <div class="ui-g-2">
            <mat-card>
              FECHA Y HORA DE SOLICITUD<br />
              <input
                class="form-control"
                aria-describedby="emailHelp"
                formControlName="FECHA_SOLICITUD"
                [value]="formulariosolicitud.get('FECHA_SOLICITUD').value | date:'dd/MM/yyy hh:mm a'"
                disabled="true"
              />
            </mat-card>
          </div>
          <div class="ui-g-10">
            <mat-card>
              MOTIVO
              <input
                class="form-control"
                aria-describedby="emailHelp"
                formControlName="DESCRIPCION"
                disabled="true"
              />
            </mat-card>
          </div>
          <div class="ui-g-4">
            <mat-card>
              DOMICILIO ACTUAL
              <input
                type="email"
                class="form-control"
                aria-describedby="emailHelp"
                formControlName="DOMICILIO_ACTUAL"
                disabled="true"
              />
            </mat-card>
          </div>
          <div class="ui-g-4">
            <mat-card>
              REFERENCIA
              <input
                type="email"
                class="form-control"
                aria-describedby="emailHelp"
                formControlName="REFERENCIA"
                disabled="true"
                name="REFERENCIA"
              />
            </mat-card>
          </div>
          <div class="ui-g-4">
            <mat-card>
              TELEFONO DE CONTACTO 1
              <input
                type="email"
                class="form-control"
                aria-describedby="emailHelp"
                disabled="true"
                formControlName="TELEF_CONTACTO"
                placeholder=" Telef Contacto"
              />
            </mat-card>
          </div>
          <div class="ui-g-4">
            <mat-card>
              TELEFONO DE CONTACTO 2
              <input
                type="email"
                class="form-control"
                aria-describedby="emailHelp"
                formControlName="TELEF_CONTACTO2"
                placeholder=" Telef Contacto"
                disabled="true"
              />
            </mat-card>
          </div>
          <div class="ui-g-4">
            <mat-card>
              CORREO ELECTRONICO
              <input
                type="email"
                class="form-control"
                aria-describedby="emailHelp"
                placeholder=" Correo Electronico"
                disabled="true"
                formControlName="CORREO"
              />
            </mat-card>
          </div>
        </div>
      </mat-card>
    </form>

    <p-fieldset legend="Morbilidades del Paciente">
      <app-morbilidades-por-paciente
        #mpp
        [(dni)]="cod_buscar"
      ></app-morbilidades-por-paciente>
    </p-fieldset>

    <p-dialog
      header="HISTORIAL DE ATENCIONES"
      [(visible)]="verhistorial"
      [style]="{ width: '90vw' }"
    >
      <router-outlet></router-outlet>
    </p-dialog>

    <app-registrar-atencion
      #panreg
      [(datosPaciente)]="form"
      [(atencion)]="atencion"
      [(cod_paciente)]="cod_buscar"
      [(ID_PACIENTE)]="ID_PACIENTE"
      [(ID_SOLICITUD)]="ID_SOLICITUD"
     
      [(ver)]="verpanelregistro"
   
    ></app-registrar-atencion>
    <div class="atencion-boton">
      <button
        pButton
        type="button"
        label="Iniciar Atencion"
        (click)="IniciaRegistro($event)"
        (completoRegistro)="CerrarRegistro()"
        [style]="{ 'margin-left': '4px', float: 'right' }"
      ></button>
      <button
        pButton
        type="button"
        label="VER HISTORIAL"
        (click)="VerHistorial()"
        [style]="{ 'margin-left': '4px', float: 'right' }"
      ></button>
      <button
        pButton
        type="button"
        label="VER FUAT"
        (click)="Imprimir_Fuat()"
        (completoRegistro)="CerrarRegistro()"
        [style]="{ 'margin-left': '4px', float: 'right' }"
      ></button>
    </div>
  </p-tabPanel>
  <p-tabPanel header="Solicitudes de Atencion Pendientes"> </p-tabPanel>
  <p-tabPanel header="Atendidos">
    <app-atenciones-realizadas></app-atenciones-realizadas>
  </p-tabPanel>
</p-tabView>
<pdf-viewer [render-text]="true" style="display: block;"></pdf-viewer>
